<!-- update.ejs -->

<%- include("./partials/head") %>

<body>
  <h3>Add New Item</h3>

  <%- include("partials/errors.ejs") %>
  <form action="/item/<%= item.itemid %>/update" method="post">

    <!-- ITEM NAME -->
    <label for="itemName">Item Name:</label>
    <input type="text" value="<%= item.itemname %>"" name="itemName" minlength="3" maxLength="25" required>

    <br />

    <!-- CATEGORY -->
    <label for="category">Category:</label>
    <select name="category" required>
      <option disabled value="">Choose category</option>
      <% categories.forEach(category => { %>
        <option <%= item.categoryid === category.categoryid ? "selected" : ""  %> value="<%= category.categoryid %>"><%= category.categoryname %></option>
      <% }) %>
    </select>

    <br />

    <!-- BRAND -->
    <label for="brand">Brand:</label>
    <select name="brand" required>
      <option disabled value="">Choose brand</option>
      <% brands.forEach(brand => { %>
        <option <%= item.brandid === brand.brandid ? "selected" : ""  %> value="<%= brand.brandid %>"><%= brand.brandname %></option>
      <% }) %>
    </select>

    <br />

    <!-- INVENTORY -->
     <label for="inventory">Inventory:</label>
     <input type="number" name="inventory" min=0 value="<%= item.inventory %>" required>

     <br />

     <button type="submit">Submit</button>
  </form>

  <a href="/">Back to home</a>
</body>

<%- include("./partials/footer") %>